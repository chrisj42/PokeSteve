<html>
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script>
		//$.get("https://raw.githubusercontent.com/eligrey/FileSaver.js/master/src/FileSaver.js", data => eval(data));

		const prefix = "https://pokeapi.co/api/v2/";
		
		function get(suffix, id, maxId, data, finalCB) {
			// get from PokeAPI
			$.get(prefix+suffix+id, info => {
				console.log("received content "+id);
				data.push(JSON.stringify(info));
				if(id == maxId)
                    document.body.innerText = "["+data.join(",")+"]";
				else
					setTimeout(() => get(suffix, id+1, maxId, data, finalCB), 10);
			});
		}
	</script>
</head>
<body>
</body>
</html>
